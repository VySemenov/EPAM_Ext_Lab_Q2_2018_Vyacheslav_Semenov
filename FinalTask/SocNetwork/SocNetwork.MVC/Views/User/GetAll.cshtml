@using SocNetwork.Resources;
@using DAL.Entities.Users;

@{
    ViewBag.Title = "GetAll";
}

@Html.Partial("_PartialAuthorizedUserPanel")
<div class="container content text-light">
    <a href="/admin/users" class="btn-link white">@Captions.BackToUM</a>
    <div>
        <h3>@Captions.ListOfUsers</h3>
        <table class="table">
            <tr>
                <td>@Captions.Id</td>
                <td>@Captions.Firstname</td>
                <td>@Captions.Lastname</td>
                <td>@Captions.Email</td>
                <td>@Captions.Role</td>
                <td>@Captions.Actions</td>
            </tr>
            @foreach (var u in Model.Users)
            {
                <tr>
                    <td>@u.Id</td>
                    <td>@u.Firstname</td>
                    <td>@u.Surname</td>
                    <td>@u.Email</td>
                    <td>@((UserRole)u.UserRoleId)</td>
                    <td>
                        <a href="/user/@u.Id"><span class="glyphicon glyphicon-user"></span></a>
                        <a href="/user/@u.Id/edit"><span class="glyphicon glyphicon-edit"></span></a>
                        <a href="/user/@u.Id/delete"><span class="glyphicon glyphicon-trash"></span></a>
                    </td>
                </tr>
            }
        </table>
        <!--Page navigation-->
        <table>
            <tr>
                <td></td>
                <td width="100%" align="right">
                    <div>
                        <nav aria-label="Page navigation">
                            <ul class="pagination">
                                @{
                                    if (Model.Page > 1)
                                    {
                                        <li class="page-item">
                                            <a class="page-link" href="/users?Page=@(Model.Page-1)" aria-label="Previous">
                                                <span aria-hidden="true">&laquo;</span>
                                                <span class="sr-only">Previous</span>
                                            </a>
                                        </li>
                                        <li class="page-item"><a class="page-link" href="/users?Page=@(Model.Page-1)">@(Model.Page - 1)</a></li>
                                        <li class="page-item active"><a class="page-link" href="/users?Page=@Model.Page">@Model.Page</a></li>
                                    }
                                    else
                                    {
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" aria-label="Previous">
                                                <span aria-hidden="true">&laquo;</span>
                                                <span class="sr-only">Previous</span>
                                            </a>
                                        </li>
                                        <li class="page-item active"><a class="page-link" href="/users?Page=@Model.Page">@Model.Page</a></li>
                                    }
                                    if (((List<User>)Model.Users).Any())
                                    {
                                        <li class="page-item"><a class="page-link" href="/users?Page=@(Model.Page+1)">@(Model.Page + 1)</a></li>
                                        <li class="page-item">
                                            <a class="page-link" href="/users?Page=@(Model.Page+1)" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </li>
                                    }
                                    else
                                    {
                                        <li class="page-item disabled">
                                            <a class="page-link" href="#" aria-label="Next">
                                                <span aria-hidden="true">&raquo;</span>
                                                <span class="sr-only">Next</span>
                                            </a>
                                        </li>
                                    }
                                }
                            </ul>
                        </nav>
                    </div>
                </td>
            </tr>
        </table>
        <!--End page navigation-->
    </div>
</div>
